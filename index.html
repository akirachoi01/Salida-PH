<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>TMDB Browser + VIP Player</title>
    <style>
        body { font-family: Arial, sans-serif; background: #111; color: white; margin: 0; padding: 0; }
        header { text-align: center; padding: 15px; }
        select, input, button { padding: 8px; font-size: 16px; margin: 5px; }
        #results { display: flex; flex-wrap: wrap; gap: 15px; padding: 20px; justify-content: center; }
        .result { cursor: pointer; width: 150px; text-align: center; }
        .result img { width: 100%; border-radius: 5px; transition: transform 0.2s; }
        .result img:hover { transform: scale(1.05); }
        #loadMoreBtn { display: none; background: #34cfeb; color: white; border: none; cursor: pointer; border-radius: 4px; padding: 10px 20px; }
    </style>
</head>
<body>

	
	</head>
	<body class="page-template page-template-home page-template-home-php page page-id-5 wp-embed-responsive">
				<div class="wrapper">
		<header id="masthead" class="home abs-head page-template page-template-home page-template-home-php">
	<div class="container">
		<div class="wrapper justify-content-between align-items-center">
			<div class="start">
				
<div id="menu-toggler"><i class="bi bi-list-nested"></i></div>
<div id="menu">
	<ul>
		<li><a href="index.html" rel="home">Home</a></li>
					<li><a href="#" id="genere">Genre</a>
				<ul class="genre">
						<li class="cat-item cat-item-8"><a href="../category/action/index.html">Action</a>
</li>
	<li class="cat-item cat-item-7"><a href="../category/adventure/index.html">Adventure</a>
</li>
	<li class="cat-item cat-item-94"><a href="../category/animation/index.html">Animation</a>
</li>
	<li class="cat-item cat-item-98"><a href="../category/comedy/index.html">Comedy</a>
</li>
	<li class="cat-item cat-item-13"><a href="../category/crime/index.html">Crime</a>
</li>
	<li class="cat-item cat-item-1863"><a href="../category/documentary/index.html">Documentary</a>
</li>
	<li class="cat-item cat-item-12"><a href="../category/drama/index.html">Drama</a>
</li>
	<li class="cat-item cat-item-96"><a href="../category/family/index.html">Family</a>
</li>
	<li class="cat-item cat-item-100"><a href="../category/fantasy/index.html">Fantasy</a>
</li>
	<li class="cat-item cat-item-176"><a href="../category/history/index.html">History</a>
</li>
	<li class="cat-item cat-item-9"><a href="../category/horror/index.html">Horror</a>
</li>
	<li class="cat-item cat-item-2162"><a href="../category/kids/index.html">Kids</a>
</li>
	<li class="cat-item cat-item-1203"><a href="../category/music/index.html">Music</a>
</li>
	<li class="cat-item cat-item-166"><a href="../category/mystery/index.html">Mystery</a>
</li>
	<li class="cat-item cat-item-2078"><a href="../category/news/index.html">News</a>
</li>
	<li class="cat-item cat-item-2100"><a href="../category/reality/index.html">Reality</a>
</li>
	<li class="cat-item cat-item-167"><a href="../category/romance/index.html">Romance</a>
</li>
	<li class="cat-item cat-item-6"><a href="../category/science-fiction/index.html">Science Fiction</a>
</li>
	<li class="cat-item cat-item-2079"><a href="../category/soap/index.html">Soap</a>
</li>
	<li class="cat-item cat-item-2200"><a href="../category/talk/index.html">Talk</a>
</li>
	<li class="cat-item cat-item-10"><a href="../category/thriller/index.html">Thriller</a>
</li>
	<li class="cat-item cat-item-189"><a href="../category/tv-movie/index.html">TV Movie</a>
</li>
	<li class="cat-item cat-item-11"><a href="../category/war/index.html">War</a>
</li>
	<li class="cat-item cat-item-3332"><a href="../category/war-politics/index.html">War &amp; Politics</a>
</li>
	<li class="cat-item cat-item-990"><a href="../category/western/index.html">Western</a>
</li>
				</ul>
			</li>
							<li><a href="#" id="paese">Country</a>
				<ul class="country">
					<li class="tax-item tax-item-6626"><a href="../country/vietnam/index.html" title="Vietnam">Vietnam</a>
    </li>
    <li class="tax-item tax-item-140"><a href="../country/usa/index.html" title="USA">USA</a>
    </li>
    <li class="tax-item tax-item-1903"><a href="../country/united-arab-emirates/index.html" title="United Arab Emirates">United Arab Emirates</a>
    </li>
    <li class="tax-item tax-item-3202"><a href="../country/ukraine/index.html" title="Ukraine">Ukraine</a>
    </li>
    <li class="tax-item tax-item-387"><a href="../country/uk/index.html" title="UK">UK</a>
    </li>
    <li class="tax-item tax-item-2272"><a href="../country/turkey/index.html" title="Turkey">Turkey</a>
    </li>
    <li class="tax-item tax-item-2059"><a href="../country/thailand/index.html" title="Thailand">Thailand</a>
    </li>
    <li class="tax-item tax-item-3834"><a href="../country/taiwan/index.html" title="Taiwan">Taiwan</a>
    </li>
    <li class="tax-item tax-item-4173"><a href="../country/switzerland/index.html" title="Switzerland">Switzerland</a>
    </li>
    <li class="tax-item tax-item-2614"><a href="../country/sweden/index.html" title="Sweden">Sweden</a>
    </li>
    <li class="tax-item tax-item-405"><a href="../country/spain/index.html" title="Spain">Spain</a>
    </li>
    <li class="tax-item tax-item-232"><a href="../country/south-korea/index.html" title="South Korea">South Korea</a>
    </li>
    <li class="tax-item tax-item-1612"><a href="../country/south-africa/index.html" title="South Africa">South Africa</a>
    </li>
    <li class="tax-item tax-item-2419"><a href="../country/slovakia/index.html" title="Slovakia">Slovakia</a>
    </li>
    <li class="tax-item tax-item-4638"><a href="../country/russia/index.html" title="Russia">Russia</a>
    </li>
    <li class="tax-item tax-item-2095"><a href="../country/portugal/index.html" title="Portugal">Portugal</a>
    </li>
    <li class="tax-item tax-item-2675"><a href="../country/poland/index.html" title="Poland">Poland</a>
    </li>
    <li class="tax-item tax-item-2875"><a href="../country/philippines/index.html" title="Philippines">Philippines</a>
    </li>
    <li class="tax-item tax-item-2665"><a href="../country/peru/index.html" title="Peru">Peru</a>
    </li>
    <li class="tax-item tax-item-6237"><a href="../country/nigeria/index.html" title="Nigeria">Nigeria</a>
    </li>
    <li class="tax-item tax-item-1122"><a href="../country/new-zealand/index.html" title="New Zealand">New Zealand</a>
    </li>
    <li class="tax-item tax-item-2235"><a href="../country/netherlands/index.html" title="Netherlands">Netherlands</a>
    </li>
    <li class="tax-item tax-item-5519"><a href="../country/mongolia/index.html" title="Mongolia">Mongolia</a>
    </li>
    <li class="tax-item tax-item-2088"><a href="../country/mexico/index.html" title="Mexico">Mexico</a>
    </li>
    <li class="tax-item tax-item-4004"><a href="../country/malaysia/index.html" title="Malaysia">Malaysia</a>
    </li>
    <li class="tax-item tax-item-5312"><a href="../country/kazakhstan/index.html" title="Kazakhstan">Kazakhstan</a>
    </li>
    <li class="tax-item tax-item-242"><a href="../country/japan/index.html" title="Japan">Japan</a>
    </li>
    <li class="tax-item tax-item-1108"><a href="../country/italy/index.html" title="Italy">Italy</a>
    </li>
    <li class="tax-item tax-item-3051"><a href="../country/ireland/index.html" title="Ireland">Ireland</a>
    </li>
    <li class="tax-item tax-item-4532"><a href="../country/indonesia/index.html" title="Indonesia">Indonesia</a>
    </li>
    <li class="tax-item tax-item-912"><a href="../country/india/index.html" title="India">India</a>
    </li>
    <li class="tax-item tax-item-5436"><a href="../country/hungary/index.html" title="Hungary">Hungary</a>
    </li>
    <li class="tax-item tax-item-307"><a href="../country/hong-kong/index.html" title="Hong Kong">Hong Kong</a>
    </li>
    <li class="tax-item tax-item-4758"><a href="../country/greece/index.html" title="Greece">Greece</a>
    </li>
    <li class="tax-item tax-item-1729"><a href="../country/germany/index.html" title="Germany">Germany</a>
    </li>
    <li class="tax-item tax-item-266"><a href="../country/france/index.html" title="France">France</a>
    </li>
    <li class="tax-item tax-item-157"><a href="../country/finland/index.html" title="Finland">Finland</a>
    </li>
    <li class="tax-item tax-item-4852"><a href="../country/estonia/index.html" title="Estonia">Estonia</a>
    </li>
    <li class="tax-item tax-item-3783"><a href="../country/egypt/index.html" title="Egypt">Egypt</a>
    </li>
    <li class="tax-item tax-item-4192"><a href="../country/denmark/index.html" title="Denmark">Denmark</a>
    </li>
    <li class="tax-item tax-item-2123"><a href="../country/czech-republic/index.html" title="Czech Republic">Czech Republic</a>
    </li>
    <li class="tax-item tax-item-2255"><a href="../country/colombia/index.html" title="Colombia">Colombia</a>
    </li>
    <li class="tax-item tax-item-501"><a href="../country/china/index.html" title="China">China</a>
    </li>
    <li class="tax-item tax-item-2703"><a href="../country/chile/index.html" title="Chile">Chile</a>
    </li>
    <li class="tax-item tax-item-507"><a href="../country/canada/index.html" title="Canada">Canada</a>
    </li>
    <li class="tax-item tax-item-418"><a href="../country/bulgaria/index.html" title="Bulgaria">Bulgaria</a>
    </li>
    <li class="tax-item tax-item-2120"><a href="../country/brazil/index.html" title="Brazil">Brazil</a>
    </li>
    <li class="tax-item tax-item-3056"><a href="../country/belgium/index.html" title="Belgium">Belgium</a>
    </li>
    <li class="tax-item tax-item-4650"><a href="../country/bangladesh/index.html" title="Bangladesh">Bangladesh</a>
    </li>
    <li class="tax-item tax-item-4847"><a href="../country/austria/index.html" title="Austria">Austria</a>
    </li>
    <li class="tax-item tax-item-226"><a href="../country/australia/index.html" title="Australia">Australia</a>
    </li>
    <li class="tax-item tax-item-2906"><a href="../country/argentina/index.html" title="Argentina">Argentina</a>
    </li>
    				</ul>
			</li>
				<li><a href="../category/movies/index.html">Movies</a></li>
		<li><a href="../category/tv-series/index.html">TV Series</a></li>
					<li><a href="../top-imdb/index.html">Top IMDb</a></li>
							<li><a href="../favorites/index.html">Favorites</a></li>
			</ul>
</div>
				
						<p class="site-title"><a href="index.html">MaruyaTV</a></p>
						</div>
			
<div class="step">
	<div class="search-box"> 
		<button class="search-toggler" aria-label="Search...">
			<span class="sr-only">Search...</span>
			<i class="bi bi-search"></i>
		</button>
		<div class="search-wrap">
			<form role="form" id="search" class="d-flex align-items-center" action="./" autocomplete="off"> 
				<a class="filter-btn btn btn-sm" href="../filters/index.html" role="button" aria-label="Filter">
					<i class="bi bi-funnel"></i> 
					Filter				</a>
				<input type="text" aria-label="Search..." placeholder="Search..." name="s" required> 
				<button type="submit" aria-label="Submit">
					<span class="sr-only">Submit</span>
					<i class="bi bi-search"></i>
				</button>
			</form>
			<div class="suggestions"></div>
		</div>
	</div>
</div>

			<div class="end">
							
		
		</div>
				</div>
		</div>
	</div>
</header><!-- #site-header -->

    <input type="text" id="searchBox" placeholder="Or search movie/TV show..." />
</header>

<div id="results"></div>
<div style="text-align:center;">
    <button id="loadMoreBtn">Load More</button>
</div>

<!-- 16:9 Aspect Ratio Player -->
<div id="playerContainer" style="display: none; padding: 20px;">
  <div style="position: relative; padding-bottom: 56.25%; height: 0;">
    <iframe id="playerIframe"
      src=""
      style="position: absolute; top: 0; left: 0; width: 100%; height: 100%;"
      frameborder="0"
      allowfullscreen
      referrerpolicy="origin"
    ></iframe>
  </div>
</div>

<script>
const API_KEY = "ba3885a53bc2c4f3c4b5bdc1237e69a0";
let currentCategory = "";
let currentPage = 1;
let lastQuery = "";
let searchMode = false;

document.getElementById("searchBox").addEventListener("keyup", function(e) {
    if (e.key === "Enter") {
        searchMode = true;
        lastQuery = this.value;
        currentPage = 1;
        searchTMDB(lastQuery, true);
    }
});

document.getElementById("category").addEventListener("change", function() {
    if (this.value) {
        searchMode = false;
        currentCategory = this.value;
        currentPage = 1;
        loadCategory(currentCategory, true);
    }
});

document.getElementById("loadMoreBtn").addEventListener("click", function() {
    currentPage++;
    if (searchMode) {
        searchTMDB(lastQuery, false);
    } else {
        loadCategory(currentCategory, false);
    }
});

function searchTMDB(query, clear) {
    fetch(`https://api.themoviedb.org/3/search/multi?api_key=${API_KEY}&query=${encodeURIComponent(query)}&page=${currentPage}`)
        .then(res => res.json())
        .then(data => renderResults(data.results, clear));
}

function loadCategory(cat, clear) {
    let url = "";
    if (cat === "latest_movies") url = `https://api.themoviedb.org/3/movie/now_playing?api_key=${API_KEY}&language=en-US&page=${currentPage}`;
    if (cat === "latest_tv") url = `https://api.themoviedb.org/3/tv/on_the_air?api_key=${API_KEY}&language=en-US&page=${currentPage}`;
    if (cat === "popular_movies") url = `https://api.themoviedb.org/3/movie/popular?api_key=${API_KEY}&language=en-US&page=${currentPage}`;
    if (cat === "popular_tv") url = `https://api.themoviedb.org/3/tv/popular?api_key=${API_KEY}&language=en-US&page=${currentPage}`;

    fetch(url)
        .then(res => res.json())
        .then(data => renderResults(data.results, clear));
}

function renderResults(items, clear) {
    const resultsDiv = document.getElementById("results");
    if (clear) resultsDiv.innerHTML = "";
    items.forEach(item => {
        const tmdbId = item.id;
        const title = item.title || item.name;
        const poster = item.poster_path ? `https://image.tmdb.org/t/p/w500${item.poster_path}` : "";
        const mediaType = item.media_type || (item.first_air_date ? "tv" : "movie");

        if (!poster) return;

        const div = document.createElement("div");
        div.className = "result";
        div.innerHTML = `<img src="${poster}" alt="${title}"><br>${title}`;
        div.onclick = () => loadPlayer(tmdbId, mediaType);
        resultsDiv.appendChild(div);
    });

    document.getElementById("loadMoreBtn").style.display = items.length > 0 ? "inline-block" : "none";
}

function loadPlayer(tmdbId, type) {
    const container = document.getElementById("playerContainer");
    const iframe = document.getElementById("playerIframe");
    container.style.display = "block";

    iframe.src = `https://player.videasy.net/${type}/${tmdbId}`;
    window.scrollTo({ top: document.body.scrollHeight, behavior: "smooth" });
}

window.onload = function() {
    currentCategory = "latest_movies";
    document.getElementById("category").value = "latest_movies";
    loadCategory(currentCategory, true);
};
</script>

</body>
</html>

